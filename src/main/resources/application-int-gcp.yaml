luxback:
  storage-path: gs://luxback-int/backups
  audit-index-path: gs://luxback-int/audit-indexes
  max-file-size: 104857600  # 100MB
  allowed-content-types:
    - application/pdf
    - application/vnd.ms-excel
    - application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
    - text/plain
    - text/csv
    - image/png
    - image/jpeg

# Azure AD OAuth2 configuration
spring:
  security:
    oauth2:
      client:
        registration:
          azure:
            client-id: ${AZURE_CLIENT_ID}
            client-secret: ${AZURE_CLIENT_SECRET}
            scope: openid, profile, email
            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
        provider:
          azure:
            issuer-uri: https://login.microsoftonline.com/${AZURE_TENANT_ID}/v2.0

# Azure AD Group Mappings
# Replace these GUIDs with your actual Azure AD security group object IDs
azure:
  ad:
    groups:
      admin: ${AZURE_ADMIN_GROUP_ID:}  # Azure AD group object ID for admins
      user: ${AZURE_USER_GROUP_ID:}    # Azure AD group object ID for users

# Logging configuration
logging:
  level:
    com.lbg.markets.luxback: INFO
    org.springframework.security: INFO
  pattern:
    console: "%d{ISO8601} [%thread] %-5level %logger{36} - %msg%n"

# Actuator endpoints
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: when-authorized
